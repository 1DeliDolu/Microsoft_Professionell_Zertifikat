## ğŸ” JWTâ€™lerle API UÃ§ NoktalarÄ±nÄ± GÃ¼venceye Alma

Bir uygulama her hassas veri paylaÅŸtÄ±ÄŸÄ±nda (saÄŸlÄ±k kayÄ±tlarÄ± veya finansal detaylar gibi), yetkisiz eriÅŸim iÃ§in potansiyel bir gÃ¼venlik aÃ§Ä±ÄŸÄ± oluÅŸturur. Bu veri geÃ§itlerini *JSON Web Token* gibi hassas kontrollerle gÃ¼vence altÄ±na almak, yalnÄ±zca gÃ¼venilir kiÅŸilerin geÃ§ebilmesini saÄŸlar. Bu videoda, JWTâ€™ler kullanarak API endpointâ€™lerini gÃ¼venceye almayÄ± aÃ§Ä±klayacaÄŸÄ±z. HatÄ±rlayÄ±n: Bir API endpoint, istemcilerin bir sunucuyla etkileÅŸim kurmak iÃ§in istek gÃ¶nderebileceÄŸi belirli bir URLâ€™dir.

Åimdi, JWTâ€™lerle API endpointâ€™lerini nasÄ±l gÃ¼vence altÄ±na alacaÄŸÄ±mÄ±zÄ± inceleyelim. Bir kullanÄ±cÄ± giriÅŸ yapmaya Ã§alÄ±ÅŸtÄ±ÄŸÄ±nda, JWT doÄŸrulamasÄ± ( *JWT validation* ) yapÄ±lÄ±r. JWT doÄŸrulamasÄ±, bir tokenâ€™Ä±n gÃ¼venilir olduÄŸunu ve kurcalanmadÄ±ÄŸÄ±nÄ± onaylayan bir kontrol noktasÄ± gibidir. YalnÄ±zca bu doÄŸrulamayÄ± geÃ§en tokenâ€™larÄ±n eriÅŸimine izin verilir. Peki bu sÃ¼reÃ§ nasÄ±l yÃ¼rÃ¼tÃ¼lÃ¼r?

Ä°lk olarak, sunucu tokenâ€™Ä±n benzersiz imzasÄ±nÄ± ( *unique signature* ) kontrol ederek tokenâ€™Ä±n gerÃ§ekliÄŸini doÄŸrular. Bu adÄ±m, deÄŸiÅŸtirilmiÅŸ tokenâ€™larÄ±n geÃ§mesini engeller. ArdÄ±ndan tokenâ€™Ä±n sona erme sÃ¼resi ( *expiration* ) kontrol edilir. Her tokenâ€™Ä±n bir sona erme zamanÄ± vardÄ±r; bu, sÃ¼reli bir geÃ§iÅŸ kartÄ± gibidir. SÃ¼resi dolduÄŸunda, kullanÄ±cÄ± yeni bir token almak iÃ§in tekrar giriÅŸ yapmak zorundadÄ±r; bÃ¶ylece yalnÄ±zca gÃ¼ncel tokenâ€™larÄ±n verilere eriÅŸebilmesi saÄŸlanÄ±r.

JWTâ€™lerle API endpointâ€™lerini gÃ¼venceye almanÄ±n bir diÄŸer parÃ§asÄ± da, her istek iÃ§in token doÄŸrulamasÄ±nÄ± bir gÃ¼venlik kapÄ±sÄ± gibi otomatikleÅŸtirmek Ã¼zere JWT middleware kullanmaktÄ±r. Bir kez kurulduktan sonra,  *ASP.NET Core* â€™daki middleware her tokenâ€™Ä±n gerÃ§ekliÄŸini ve sona erme durumunu kontrol eder ve geÃ§ersiz token iÃ§eren istekleri engeller. Bu sayede yalnÄ±zca yetkili istekler gÃ¼venli API routeâ€™larÄ±na ulaÅŸÄ±r; hassas veriler, manuel doÄŸrulama gerektirmeden korunmuÅŸ olur.

JWTâ€™ler doÄŸrulandÄ±ktan ve middleware kurulduktan sonra, Role-Based Access Control ( *RBAC* ) ile ek bir gÃ¼venlik katmanÄ± ekleyebiliriz; bu, kullanÄ±cÄ±nÄ±n rolÃ¼ne gÃ¶re izinleri belirler. Rol tabanlÄ± eriÅŸim, kullanÄ±cÄ±larÄ±n yalnÄ±zca yetkili olduklarÄ± verilere veya iÅŸlevlere eriÅŸebilmesini saÄŸlar. Åimdi tÃ¼m bu bileÅŸenlerin, yalnÄ±zca yetkili kullanÄ±cÄ±lar iÃ§in gÃ¼venli API endpointâ€™lerine ihtiyaÃ§ duyan bir tÄ±bbi ÅŸirket Ã¶rneÄŸinde nasÄ±l bir araya geldiÄŸini inceleyelim.

Ã–nce JWT doÄŸrulamasÄ±yla baÅŸlarÄ±z. KullanÄ±cÄ± giriÅŸ yaptÄ±ÄŸÄ±nda ÅŸirket, kullanÄ±cÄ±ya Ã¶zel bir JWT Ã¼retir. Her token, kullanÄ±cÄ±nÄ±n rolÃ¼ ve izinleri hakkÄ±nda bilgi taÅŸÄ±yan claimâ€™ler iÃ§erir. KullanÄ±cÄ± her istek gÃ¶nderdiÄŸinde, JWT middleware tokenâ€™Ä± otomatik olarak kontrol ederek geÃ§erli olduÄŸundan emin olur. Herhangi bir sorun varsa eriÅŸim anÄ±nda reddedilir ve sistem gÃ¼venli kalÄ±r.

Son olarak, her token kullanÄ±cÄ±nÄ±n yeteneklerini tanÄ±mlayan belirli claimâ€™ler taÅŸÄ±r. Ã–rneÄŸin, doktor rolÃ¼ne atanmÄ±ÅŸ olanlar kayÄ±tlarÄ± dÃ¼zenleme iznine sahipken, hasta rolÃ¼ne atanmÄ±ÅŸ olanlar yalnÄ±zca kendi bilgilerini gÃ¶rÃ¼ntÃ¼leyebilir. Åirketin sistemindeki bu gÃ¼venlik adÄ±mlarÄ±, her isteÄŸin doÄŸrulamadan geÃ§mesini ve JWT iÃ§indeki izinlerle eÅŸleÅŸmesini zorunlu kÄ±lar. Bu ÅŸekilde, hassas hasta verileri korunur ve yalnÄ±zca doÄŸru eriÅŸim seviyesine sahip kiÅŸiler tarafÄ±ndan eriÅŸilebilir olur.

Bu videoda, JWTâ€™ler kullanarak API endpointâ€™lerini gÃ¼venceye alma sÃ¼recini Ã¶ÄŸrendiniz. JSON Web Token doÄŸrulamasÄ± ve rol tabanlÄ± eriÅŸim sayesinde uygulamalar gÃ¼venli eriÅŸim saÄŸlayabilir; verilerin yalnÄ±zca hak sahibi izinlere sahip olanlar iÃ§in eriÅŸilebilir olmasÄ±nÄ± garanti eder.
